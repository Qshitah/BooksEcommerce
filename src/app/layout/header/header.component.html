<header class="header header-12">
  <div class="header-middle">
    <div class="container">
      <div class="header-left">
        <button class="mobile-menu-toggler">
          <span class="sr-only">Toggle mobile menu</span>
          <i class="icon-bars"></i>
        </button>

        <a [routerLink]="'/'" class="logo">
          <img
            src="/assets/images/icon.png"
            alt="Web Crea Logo"
            [style]="{ 'width' : '80px', 'height' : '80px' }"
          />
        </a>
      </div>
      <!-- End .header-left -->

      <div class="header-right">
        <div
          class="header-search header-search-extended header-search-visible header-search-no-radius"
        >
          <a class="search-toggle" role="button">
            <i class="icon-search"></i>
          </a>
          <form (submit)="onSearch()">
            <div class="header-search-wrapper search-wrapper-wide">
              <label for="q" class="sr-only">Search</label>
              <input
                type="search"
                class="form-control"
                [name]="'q'"
                [(ngModel)]="searchQuery"
                [ngModelOptions]="{standalone: true}"
                placeholder="Search product ..."
                required
              />
              <button class="btn btn-primary" type="submit">
                <i class="icon-search"></i>
              </button>
            </div>
            <!-- End .header-search-wrapper -->
          </form>
        </div>

        <!-- End .header-search -->

        <div class="header-dropdown-link">
          @for (value of accounts; track $index) {
          <div [className]="value.link">
            <a [routerLink]="value.link" title="{{ value.title }}">
              <div class="icon">
                <i [className]="value.icon"></i>
              </div>
              <p>{{ value.title | titlecase }}</p>
            </a>
          </div>
          }

          <div class="dropdown cart-dropdown">
            <a
              href="#"
              class="dropdown-toggle"
              role="button"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
              data-display="static"
            >
              <div class="icon">
                <i class="icon-shopping-cart"></i>
                <span class="cart-count">{{ cartItems.length }}</span>
              </div>
              <p>Cart</p>
            </a>

            <div class="dropdown-menu dropdown-menu-right">
              <div class="dropdown-cart-products">
                @for (cartItem of cartItems; track $index) {
                <div class="product">
                  <div class="product-cart-details">
                    <h4 class="product-title">
                      <a [routerLink]="'/product/' + cartItem.id">{{ cartItem.title }}</a>
                    </h4>
                    <span class="cart-product-info">
                      <span class="cart-product-qty">{{ cartItem.quantity }}</span>
                      x ${{ cartItem.price.toFixed(2) }}
                    </span>
                  </div>

                  <figure class="product-image-container">
                    <a [routerLink]="'/product/' + cartItem.id">
                      <img [src]="cartItem.imageUrl" alt="product" />
                    </a>
                  </figure>
                  <a href="#" class="btn-remove" title="Remove Product">
                    <i class="icon-close"></i>
                  </a>
                </div>
                }
              </div>
              <!-- End .cart-product -->

              <div class="dropdown-cart-total">
                <span>Total</span>
                <span class="cart-total-price">${{ totalCartPrice }}</span>
              </div>
              <!-- End .dropdown-cart-total -->

              <div class="dropdown-cart-action">
                <a [routerLink]="'/cart'" class="btn btn-primary">View Cart</a>
                <a [routerLink]="'/checkout'" class="btn btn-outline-primary-2"
                  ><span>Checkout</span><i class="icon-long-arrow-right"></i
                ></a>
              </div>
              <!-- End .dropdown-cart-total -->
            </div>
            <!-- End .dropdown-menu -->
          </div>
          <!-- End .cart-dropdown -->
        </div>
      </div>
      <!-- End .header-right -->
    </div>
    <!-- End .container -->
  </div>
  <!-- End .header-middle -->

  <div class="header-bottom sticky-header">
    <div class="container">
      <div style="background-color: #333; display: flex; width: 100%">
        <div class="header-left">
          <div class="dropdown category-dropdown">
            <a
              href="#"
              class="dropdown-toggle"
              role="button"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
              data-display="static"
              title="Browse Categories"
            >
              Browse Categories
            </a>

            <div class="dropdown-menu">
              <nav class="side-nav">
                <ul class="menu-vertical sf-arrows">
                  @for (category of categories; track category.id) {
                  <li
                    [className]="
                      category.id === 1 || category.id === 2 ? 'item-lead' : ''
                    "
                  >
                    <a [routerLink]="'/shop/' + category.id">{{
                      category.name | titlecase
                    }}</a>
                  </li>
                  }
                </ul>
                <!-- End .menu-vertical -->
              </nav>
              <!-- End .side-nav -->
            </div>
            <!-- End .dropdown-menu -->
          </div>
          <!-- End .category-dropdown -->
        </div>
        <!-- End .header-left -->

        <div class="header-center">
          <nav class="main-nav">
            <ul class="menu sf-arrows">
              @for (value of menu; track value.id) {
              <li [routerLinkActive]="['active']">
                <a [routerLink]="value.url">{{ value.name | titlecase }}</a>
              </li>
              }
            </ul>
            <!-- End .menu -->
          </nav>
          <!-- End .main-nav -->
        </div>
      </div>
    </div>
    <!-- End .container -->
  </div>
  <!-- End .header-bottom -->
</header>
<!-- End .header -->
